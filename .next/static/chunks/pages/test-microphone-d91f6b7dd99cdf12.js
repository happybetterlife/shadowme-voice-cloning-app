(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[545],{2120:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/test-microphone",function(){return t(776)}])},776:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var a=t(4848),c=t(6540);function l(){let[e,s]=(0,c.useState)("초기화 중..."),[t,l]=(0,c.useState)(""),[i,n]=(0,c.useState)("");return(0,c.useEffect)(()=>{async function e(){try{let e=await fetch("/api/test-voice");if(e.ok){let s=await e.json();n("✅ API 작동 중: ".concat(JSON.stringify(s)))}else n("❌ API 오류: ".concat(e.status," ").concat(e.statusText))}catch(e){n("❌ API 연결 실패: ".concat(e))}}l("https:"===window.location.protocol?"✅ HTTPS 연결":"❌ HTTP 연결 (HTTPS 필요)"),async function(){try{let e=await navigator.mediaDevices.getUserMedia({audio:!0});s("✅ 마이크 권한 허용됨");let t=new MediaRecorder(e),a=[];t.ondataavailable=e=>{a.push(e.data)},t.onstop=()=>{let e=new Blob(a,{type:"audio/webm"});s("✅ 마이크 권한 허용됨 (".concat(e.size," bytes 녹음 가능)"))},t.start(),setTimeout(()=>t.stop(),1e3),e.getTracks().forEach(e=>e.stop())}catch(e){s("❌ 마이크 권한 거부됨: ".concat(e))}}(),e()},[]),(0,a.jsx)("div",{className:"min-h-screen bg-gray-100 p-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-8 text-center",children:"\uD83D\uDD27 시스템 진단 테스트"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"연결 상태"}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsx)("p",{className:"text-lg",children:t})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"마이크 권한"}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsx)("p",{className:"text-lg",children:e})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"API 상태"}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsx)("p",{className:"text-lg",children:i})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"문제 해결 가이드"}),(0,a.jsxs)("div",{className:"space-y-2 text-gray-700",children:[(0,a.jsx)("p",{children:"1. HTTPS가 아닌 경우: 브라우저에서 마이크 권한이 차단됩니다."}),(0,a.jsx)("p",{children:"2. 마이크 권한이 거부된 경우: 브라우저 설정에서 마이크 권한을 허용해주세요."}),(0,a.jsx)("p",{children:"3. API가 작동하지 않는 경우: 서버 배포 상태를 확인해주세요."})]})]}),(0,a.jsx)("div",{className:"mt-8 text-center",children:(0,a.jsx)("button",{onClick:()=>window.location.href="/",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"메인으로 돌아가기"})})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[636,593,792],()=>s(2120)),_N_E=e.O()}]);